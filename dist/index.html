<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F# Mentorship Form</title>
</head>
<body>
    <div>F# Mentorship Form in dist folder</div>
    <form name="contact" onsubmit="submitForm(event)">
        <p>
          <label>Name <input type="text" name="name" /></label>
        </p>
        <p>
          <label>Email <input type="email" name="email" /></label>
        </p>
        <p>
            <label>Field with a Space <input type="text" name="Field with Space" /></label>
        </p>
        <p>
          <button type="submit">Send</button>
        </p>
      </form>

      <script>
        function submitForm(event) {
          event.preventDefault();

          const formData = new FormData(event.target);
          const request = new XMLHttpRequest();

          var jsonData = {};
          formData.forEach((value, key) => (jsonData[key] = value));

          request.open("POST", "/.netlify/functions/hello-world");
          request.send(JSON.stringify(jsonData));

          alert("Form submitted!");
          event.target.reset();
        }
      </script>
</body>
</html>